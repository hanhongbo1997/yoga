/*
 * templater-1.0.js
 * 中文名：模板者
 * by 廖悦甥
 * 2016.05.21
 */
(function(){var a=function(c,f){var j=this;var k=c||["{","}"],g=f||["[","]"];j.lc=k[0];j.rc=k[1];j.lk=g[0];j.rk=g[1];function d(m){var l=/[\$\(\)\*\+\.\[\]\?\\\^\{\}\|]/g;return m.replace(l,function(n){return"\\"+n})}var e=d(j.lc),b=d(j.rc),i=d(j.lk),h=d(j.rk);j.contReg=new RegExp(e+"[^"+e+b+"]*"+b,"g");j.keyReg=new RegExp(i+"[^"+i+h+"]*"+h,"g")};a.prototype.getTemp=function(g,f){var d=this;var e=document.getElementById(g).innerHTML;var c;if(!f){c=e.replace(d.keyReg,"");c=c.replace(d.contReg,function(h){return h.slice(d.lc.length,-d.lc.length)});return c}else{if(f.constructor==Array){c=e.replace(d.keyReg,"");var b=-1;c=c.replace(d.contReg,function(){b++;return f[b]||""});return c}else{if(f.constructor==Object){c=e.replace(d.contReg,"");c=c.replace(d.keyReg,function(l){var k=l.slice(d.lk.length,-d.lk.length);var j=k.split(",")[0];var h=k.indexOf(",");if(h!=-1){var i=k.slice(h+1)}return f[j]||i||""});return c}}}};window.templater=a})();